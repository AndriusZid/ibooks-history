!function(e){function t(t){for(var o,a,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)a=s[u],i[a]&&p.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(d&&d(t);p.length;)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={0:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/js/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;r.push([93,1]),n()}({1:function(e,t){e.exports=window.$},129:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n(41),r=n(130),a=r.loadJS,s=r.loadCSS,c=!1,l=!1,d=new RegExp("https://www.bookwidgets.com/create/api/widgets/[0-9]+/preview/config.(css||js)?");function u(e){return 0===window.location.pathname.indexOf("/_ah/gcs/bookwidgets-eu--widgets/")?window.location.origin+"/_ah/gcs/bookwidgets-eu--widget-assets"+e:"widgets-eu.bookwidgets.com"===window.location.host?0===e.search(d)?e:"//widget-assets-eu.bookwidgets.com"+e:e}t.default=function(){var e=i.split(window.location.search.substring(1));e.dbg5&&n(131)({apiKey:e.dbg5,autoCaptureSessions:!1,notifyReleaseStages:["production"],releaseStage:"production"});var t=o.Deferred();if(!1===l&&!1===c){c=!0;var r=u(e.content)||"config.js",d=u(e.design)||"config.css";o.when(a(r),s(d)).fail(function(){t.reject(new Error("Unable to load config file"))}).always(function(){c=!1,l=!1;var e=window.widgetconfig;t.resolve(e),-1===navigator.userAgent.indexOf("ibookwidgets")&&(window.widgetconfig=void 0)})}return t}},130:function(e,t,n){var o=n(1);e.exports={loadJS:function(e,t,n){var i=o.Deferred(),r=document.createElement("script");if(r.setAttribute("type","text/javascript"),n){var a=!0,s=!1,c=void 0;try{for(var l,d=n[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){var u=l.value;r.setAttribute(u,n[u])}}catch(e){s=!0,c=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw c}}}return r.onload=function(){i.resolve()},r.onerror=function(){window.navigator&&window.navigator.userAgent&&-1===window.navigator.userAgent.indexOf("PhantomJS")&&-1===window.navigator.userAgent.indexOf("HeadlessChrome")&&console.error("Could not load: "+e),i.reject()},r.setAttribute("src",e),document.getElementsByTagName(t||"head")[0].appendChild(r),i},loadCSS:function(e,t){var n=o.Deferred(),i=document.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.onload=function(){n.resolve()},i.onerror=function(){window.navigator&&window.navigator.userAgent&&-1===window.navigator.userAgent.indexOf("PhantomJS")&&-1===window.navigator.userAgent.indexOf("HeadlessChrome")&&console.error("Could not load: "+e),n.reject()},i.setAttribute("href",e),document.getElementsByTagName(t||"head")[0].appendChild(i),n}}},133:function(e,t,n){e.exports=function(e){var t=[];window.activateDesignInfoTooltips=function(){console.log("activateDesignInfoTooltips");var n=!0;e.each(t,function(t,o){var i=e(o[0]),r="n";i.height()>700?r=i.offset()&&i.offset().left>800?"e":"w":i.offset()&&i.offset().top>700&&(r="s"),i.attr("data-tipsy",o[1]).tipsy({html:!0,title:"data-tipsy",gravity:r}),e(o[0]).click(function(e){void 0!==window.previewsidebar&&n&&(window.previewsidebar.setSelectedItem(o[1]),n=!1,setTimeout(function(){n=!0},100))})})};var n=[],o=!1;var i=!1;window.BwNotifyWidgetLoaded=function(){i||(i=!0,window.parent.postMessage("BwWidgetLoaded","*"),window.clientApp&&window.clientApp.widgetLoaded&&window.clientApp.widgetLoaded())};var r=!0;function a(){for(;n.length>0;){n.shift()()}r&&window.BwNotifyWidgetLoaded()}return window.BwUseManualWidgetLoadedNotification=function(){r=!1},function(i){if("bwshortcode"in i&&(window.bwshortcode=i.bwshortcode),"pre"in i&&(console.log("Preview"),"designinfo"in i)){console.log("With design info");for(var r=0;r<i.designinfo.length;++r)s=i.designinfo[r].s,c=i.designinfo[r].d,t.push([s,c]);"undefined"!=typeof previewsidebar&&(console.log("Previewsidebar is defined, immediately set design config"),e(function(){var e;e=function(){window.CssUpdateCounter&&(console.log("has CssUpdateCounter -> updating configCss"),window.updateConfigCSS(window.CssUpdateCounter)),console.log("Activating tooltips"),setTimeout(function(){window.activateDesignInfoTooltips()},3e3)},o?setTimeout(e,0):n.push(e)}))}var s,c;if("bra"in i&&e(function(){"iPad"===navigator.platform&&-1!==navigator.userAgent.indexOf("BookWidgets")||e("body").append('<div class="branding"></img></div>')}),"tri"in i&&e(function(){if("iPad"===navigator.platform||-1===navigator.userAgent.indexOf("BookWidgets")&&-1===navigator.userAgent.indexOf("ibookwidgets")){e("body").append('<div class="dialog-sheet" id="preview_alert" style="color: red; text-shadow: none;">  <p>This is a free preview widget, created using a trial version of BookWidgets. <b>This widget may only be used for demonstration and evaluation purposes!</b></p>  <p>Please purchase a license key for the BookWidgets tool to remove this message.</p></div>');var t=e('<div class="dialog-sheet-shadow"/>');e(document.body).append(t),window.CreateDialogSheetFor("#preview_alert"),setTimeout(function(){e("#preview_alert").data("dialogSheet").show()},2e3),setTimeout(function(){e("#preview_alert").data("dialogSheet").hide()},6e3),setTimeout(function(){e("#preview_alert").data("dialogSheet").show()},3e4),setTimeout(function(){e("#preview_alert").data("dialogSheet").hide()},34e3)}}),void 0===String.prototype.trim&&(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")}),window.getWidgetUrl=function(){return window.location.href},window.bwbackbuttonlabel=null,"performance"in window==!1&&(window.performance={}),"now"in window.performance==!1){var l=Date.now();window.performance.timing&&window.performance.timing.navigationStart&&(l=window.performance.timing.navigationStart),window.performance.now=function(){return Date.now()-l}}return i.hasOwnProperty("backbutton_label")&&""!==i.backbutton_label&&(window.bwbackbuttonlabel=i.backbutton_label),"Vertical"===i.widget_orientation?e("html").addClass("vertical"):e("html").addClass("horizontal"),null!=i.widget_language&&""!==i.widget_language&&e("html").attr("lang",i.widget_language),i.hasOwnProperty("LocalizationMap")&&(window.bwlocalizationmap=i.LocalizationMap),setTimeout(a,0),null}}(n(1))},134:function(e,t,n){var o,i,r,a,s;e.exports=(o=n(40),i=n(24),r=n(1),a=n(42),s={},window.BWMATH=s,s.disabled=!1,s.nextUniqueId=1,s.queue=[],s.customCssClasses=[],s.initialized=!1,s.initialize=function(){if(!1===this.initialized&&-1!==i.getPlatform().indexOf("chrome")){var e=r('<div id="chromemathjaxhack" style="position: absolute; pointer-events: none;";></div>').prependTo(r("body"));e.html('<canvas width="300" height="300"></canvas>');var t=e.find("canvas")[0];t.getContext("2d").clearRect(0,0,t.width,t.height),this.initialized=!0}},s.prepare=function(e){if(this.disabled)return e;var t="",n=0,o=e.indexOf("$$"),i=0;for(o>=0&&this.initialize();o>=0&&!(++i>1e4);){t+=e.substring(n,o);var r=e.indexOf("$$",o+2);if(r<0){n=o;break}t+='<span class="bwmathquill" style="direction:ltr; visibility: hidden">\\('+e.substring(o+2,r)+"\\)</span>",n=r+2,o=e.indexOf("$$",n)}return t+=e.substring(n)},s._createCssClass=function(e,t){var n=document.createElement("style");n.type="text/css",document.getElementsByTagName("head")[0].appendChild(n),(n.sheet||{}).insertRule?n.sheet.insertRule("."+e+"{"+t+"}",0):(n.styleSheet||n.sheet).addRule(e,t),s.customCssClasses.push(e)},s._copyColorToStrokeAndFill=function(e){var t=e.css("color");e.find("g[stroke]").attr("stroke",null).attr("fill",null);var n="bw-math-jax-expression-"+s.nextUniqueId++,o="stroke: "+t+"; fill: "+t+";";s._createCssClass(n,o),e.addClass(n)},s.schedule=function(e){void 0!==window.MathJax&&window.MathJax.hasOwnProperty("Hub")&&window.MathJax.Hub.hasOwnProperty("Queue")?window.MathJax.Hub.Queue(e):s.queue.push({cb:e})},s.findMathElems=function(e){return e.find(".bwmathquill")},s.allMathElems=function(){return r(".bwmathquill")},s.processMathElems=function(e){this.process(this.findMathElems(e))},s.redrawMathElems=function(e){this.redraw(this.findMathElems(e))},s.processAll=function(){this.process(this.allMathElems())},s.redrawAll=function(){this.redraw(this.allMathElems())},s.process=function(e){this.disabled||e.each(function(){if(void 0!==window.MathJax&&window.MathJax.hasOwnProperty("Hub")&&window.MathJax.Hub.hasOwnProperty("Queue")){var e=this;window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,e],function(){s._copyColorToStrokeAndFill(r(e)),r(e).css("visibility","")})}else s.queue.push({obj:r(this)})})},s.processqueue=function(){for(;s.queue.length>0;){var e=s.queue.shift();e.obj&&s.process(e.obj),e.cb&&s.schedule(e.cb)}},window.MathJax={showMathMenu:!1,skipStartupTypeset:!0},"ibw-platform-win32-preview"==i.getPlatform()&&(window.MathJax.SVG={scale:200}),s.loadMathJax=function(){var e=document.createElement("script");e.type="text/javascript",e.src="external/MathJax24/MathJax.js?config=TeX-AMS-MML_SVG",e.onload=s.processqueue,document.getElementsByTagName("head")[0].appendChild(e)},o.getConfig().then(function(e){e.hasOwnProperty("modules")&&-1!==e.modules.indexOf("MathJax24")?s.loadMathJax():s.disabled=!0}),s.redraw=function(e){},a.CssUpdateCallbacks&&a.CssUpdateCallbacks.push(function(){var e=s.customCssClasses;s.customCssClasses=[];for(var t=0;t<e.length;++t){var n=e[t],o=r("."+n);o.removeClass(n),s._copyColorToStrokeAndFill(o)}}),s.isOnlyMath=function(e){var t=e.trim();return t.startsWith("$$")&&t.endsWith("$$")&&-1===t.substring(2,e.length-4).indexOf("$$")},s)},135:function(module,exports,__webpack_require__){var _require=__webpack_require__(136),valueOrCacheValue=_require.valueOrCacheValue;module.exports=function(platform,qs,cssUpdater,printer,dialog,tr,$,uiComponents,uriEncodeImage,bwTool,adaptToPageProtocol,bwTouchHelpers){function getNakedURL(e){if(-1===e.indexOf("?"))return e;var t=/^([^\?]*)\?/.exec(e);if(t&&2===t.length)return t[1];throw Error("Shoudln't happen")}function setQueryParameters(e,t){if(t==={})return e;var n=getNakedURL(e),o=[];return $.each(t,function(e,t){o.push(e+"="+t)}),n+"?"+o.join("&")}function ShowBacklinkIfRequired(){var e=qs.getUrlParams(window.location.href);if(e.hasOwnProperty("backlink")){var t=valueOrCacheValue(e.backlink);(e.hasOwnProperty("backbutton")?$('<div class="widget-backlink widget-backlink-text">&#9664; </div>').text(valueOrCacheValue(e.backbutton)).appendTo($("body")):$('<div class="widget-backlink widget-backlink-icon"></div>').appendTo($("body"))).click(function(){var e=platform.getPlatform();if("ibw-platform-osx-preview"===e||"ibw-platform-win32-preview"===e)console.log("Moving back by using history.back()"),window.history.back();else{var n=window.location.origin;t.startsWith(n)&&(t=t.substr(n.length)),console.log("Moving back by setting window.location to: "+t),window.location=t}})}}var block_recurse_guard=!1;function centerWidgetTitle(e){if(!block_recurse_guard){var t=$("#top-container"),n=t.height(),o=t.width(),i=$(".closebutton-container"),r=$("#top-container .bw-toolbar");i.css("min-width",""),r.css("min-width","");var a=i.width(),s=r.width();if(r.css("min-width",a),i.css("min-width",s),$(".title-container").css("max-width",o-2*Math.max(a,s)),!0!==e&&$("#top-container").height()!==n){block_recurse_guard=!0;try{window.onresize&&window.onresize()}catch(e){console.error("Error when calling onResize during centerWidgetTitle"),console.error(e)}block_recurse_guard=!1}}}function hidePopupMenu(){$("#top-container").removeClass("bw-show-popup-menu"),$("#title-toolbar").appendTo($("#top-container .bw-toolbar")),$(".bw-menu-overlay").remove()}function createPopupToolbarIfRequired(){if(!($("#menubutton").length>0)){var e=$("#top-container .bw-toolbar");if(e.children(":not(.outside-popup)").length>1){e.removeClass("bw-toolbar");var t=$(document.createElement("div")).addClass("bw-toolbar").appendTo($(".titlebar-layout"));e.find(".outside-popup").each(function(){$(this).appendTo(t)}),e.appendTo(t).addClass("bw-button-group"),$('<div id="menubutton" class="bw-toolbutton"><div class="bw-icon bw-icon-menu"></div></div>').makeButton(tr("Menu")).tapOrClick(function(){$("#top-container").hasClass("bw-show-popup-menu")?hidePopupMenu():setTimeout(function(){$("#top-container").addClass("bw-show-popup-menu");var e=$(document.createElement("div")).addClass("bw-menu-overlay").appendTo("#container");setTimeout(function(){e.on("click touchend",function(){setTimeout(hidePopupMenu,500)})},350),$("#title-toolbar").appendTo(e)},100)}).appendTo(t)}}}function createTitleLayout(e,t,n){var o=$(e),i=$('<div id="container"></div>').prependTo(o).addClass("top-bottom-layout"),r=$('<div id="top-container"></div>').appendTo(i).addClass("top-container"),a=$("<div></div>").appendTo(r).addClass("titlebar-layout");return $('<div class="closebutton-container"></div>').appendTo(a),$('<div class="title-container"><span id="title"></span></div>').appendTo(a),n?$(n).addClass("bw-toolbar").appendTo(a):$('<div id="title-toolbar"></div>').addClass("bw-toolbar").appendTo(a),createPopupToolbarIfRequired(),$(t).appendTo(i).addClass("bottom-container"),centerWidgetTitle(),i}function prependToTitleToolbar(e){var t=$("#title-toolbar");e.prependTo(t),createPopupToolbarIfRequired(),centerWidgetTitle()}function openDebugWindow(){var debugwindow=$('<div class="bw-debug-window bw-row-container"></div>').appendTo("body"),debugoutput=$('<div class="bw-debug-output bw-row-resizing"></div>').appendTo(debugwindow);function appendOutput(e){e.appendTo(debugoutput),debugoutput[0].scrollTop=debugoutput[0].scrollHeight-debugoutput[0].getBoundingClientRect().height}function argsToString(e){for(var t=[],n=0;n<e.length;++n)t.push(JSON.stringify(e[n]));return t.join(" ")}$('<div class="bw-debug-close">X</div>').tapOrClick(function(){debugwindow.remove(),localStorage.removeItem("bw-debug-enabled")}).appendTo(debugwindow),console.log=function(){appendOutput($("<p></p>").html(argsToString(arguments)))},console.error=function(e,t){appendOutput($('<p style="color: red"></p>').html(argsToString(arguments)))},window.onerror=function(e,t,n){return appendOutput($('<p style="color: red"></p>').html(e+" ("+t+":"+n+")")),!0},console.log(platform.getPlatform(),navigator.platform,navigator.userAgent);var debuginput=$('<input class="bw-debug-input bw-row-fixed">').appendTo(debugwindow),commandlist=[],index=0;function exec(str){var goodstr=str.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"');console.log(eval(goodstr)),commandlist.push(goodstr),index=commandlist.length}debuginput.keypress(function(e){13===(e.keyCode?e.keyCode:e.which)&&(exec(debuginput.val()),debuginput.val(""))}),debuginput.keydown(function(e){var t=e.keyCode?e.keyCode:e.which;38===t?index>0&&(--index,debuginput.val(commandlist[index])):40===t&&index<commandlist.length&&(++index===commandlist.length?debuginput.val(""):debuginput.val(commandlist[index]))});try{debugwindow.draggable()}catch(e){console.error("No drag support")}}function showDebugDialog(){if(!($(".bw-debug-window").length>0)){var e=$('<div class="bw-debug-wrapper"></div>').appendTo("body"),t=$('<div class="bw-debug-dialog"></div>').appendTo(e);$("<p>Enter your support key:</p>").appendTo(t);var n=$('<input placeholder="key"></input>').appendTo(t);$("<br><br>").appendTo(t),$('<button type="button">Cancel</button>').tapOrClick(function(){e.remove()}).appendTo(t),$('<button type="button">OK</button>').tapOrClick(function(){"bw-magic"===n.val()&&(openDebugWindow(),e.remove(),localStorage.setItem("bw-debug-enabled","true"))}).appendTo(t)}}function initializeDebugSupport(e){var t=0;e.clickOrHold(function(){t=0},function(){3==++t&&(showDebugDialog(),t=0)},2e3);try{"true"===localStorage.getItem("bw-debug-enabled")&&openDebugWindow()}catch(e){}}function makeWidget(e){e=e||{};var t=$("body");t.addClass("bw"),e.hasOwnProperty("no-user-select")&&!0===e["no-user-select"]&&t.addClass("no-user-select");var n,o=e.layout||"";if("title_layout"===o?(n=createTitleLayout("body","#bottom-container")).find(".top-container").addClass("title-only"):"title_overlay_layout"===o?((n=createTitleLayout("body","#bottom-container")).addClass("title-overlay"),n.find(".top-container").addClass("title-only")):n="title_toolbar_layout"===o?createTitleLayout("body","#bottom-container","#title-toolbar"):$("#container"),e.hasOwnProperty("title")&&""!==e.title){var i=n.find("#title");i.html(e.title),initializeDebugSupport(i)}else{var r=n.find(".top-container");r.addClass("title-empty"),initializeDebugSupport(r)}"ibw-platform-ipad-ibooks-epub"===platform.getPlatform()&&(e.hasOwnProperty("epubBlockTouchEndCheck")||(e.epubBlockTouchEndCheck=function(e){return e.srcElement instanceof SVGElement||$(e.srcElement).hasClass("epub-block")}),document.addEventListener("touchend",function(t){var n=$(window).width();(t.layerX<50||n-t.layerX<50||e.epubBlockTouchEndCheck(t))&&t.preventDefault()},!1),e.hasOwnProperty("epubBlockTouchStartCheck")&&document.addEventListener("touchstart",function(t){e.epubBlockTouchStartCheck(t)&&t.preventDefault()},!1)),ShowBacklinkIfRequired()}function getRoot(){return platform.isWebPreview()?window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/",window.location.pathname.lastIndexOf("/")-1)):""}return $(function(){var e=$("html");e.hasClass("ibw-platform-custom")||e.addClass(platform.getPlatform())}),window.custom_alert=dialog.showAlert,window.criticalAlert=dialog.showCriticalAlert,window.bw_confirmation_dialog=dialog.showConfirmationDialog,window.tr=tr,window.getUrlParams=qs.getUrlParams,window.getNakedURL=getNakedURL,window.setQueryParameters=setQueryParameters,window.createLabeledCheckbox=uiComponents.createLabeledCheckbox,window.createProgressBar=uiComponents.createProgressBar,window.createSimpleCheckbox=uiComponents.createSimpleCheckbox,window.createNumberButtons=uiComponents.createNumberButtons,window.createSimpleRadiobutton=uiComponents.createSimpleRadiobutton,window.createLabeledRadiobutton=uiComponents.createLabeledRadiobutton,window.createProgressCircle=uiComponents.createProgressCircle,window.URIEncodeImage=uriEncodeImage,window.BWAdaptToPageProtocol=adaptToPageProtocol,window.updateConfigCSS=bwTool.updateConfigCSS,{makeWidget:makeWidget,getNakedURL:getNakedURL,setQueryParameters:setQueryParameters,prependToTitleToolbar:prependToTitleToolbar,centerTitle:centerWidgetTitle,ShowBacklinkIfRequired:ShowBacklinkIfRequired,getRoot:getRoot}}(__webpack_require__(24),__webpack_require__(41),__webpack_require__(222),__webpack_require__(223),__webpack_require__(224),__webpack_require__(31),__webpack_require__(1),__webpack_require__(88),__webpack_require__(89),__webpack_require__(42),__webpack_require__(225),__webpack_require__(226))},136:function(e,t,n){"use strict";n.r(t),n.d(t,"replaceParamsBySessionLink",function(){return a}),n.d(t,"valueOrCacheValue",function(){return s});var o=n(92),i=n.n(o),r=["backbutton","backlink","q"];function a(e){if(""===e)return e;if("undefined"==typeof sessionStorage)return e;var t=e.substring(1).split("&"),n="cache_"+(new Date).getTime()+"_";return"?"+i()(t,function(e){for(var t=0;t<r.length;++t)if(e.startsWith(r[t]+"=")&&!e.startsWith(r[t]+"=cache_")){var o=n+t;return sessionStorage.setItem(o,decodeURIComponent(e.substring(r[t].length+1))),r[t]+"="+o}return e}).join("&")}function s(e){return null==e?e:e.startsWith("cache_")?sessionStorage.getItem(e):e}},222:function(e,t,n){var o=n(42);e.exports=function(e){window.addEventListener("message",function(t){var n=t.data;"set-css"===n.command&&(!function(t){for(var n=document.getElementsByTagName("link"),o=0,i=n.length;o<i;o++){var r=n[o],a=r.rel;if("string"!=typeof a||0===a.length||"stylesheet"===a){var s=r.getAttribute("href");0===s.indexOf("config")&&-1!==s.indexOf(".css")&&(r.disabled=!0)}}e("style[id='designconfig']").remove();var c=document.createElement("style");c.id="designconfig",c.type="text/css",c.appendChild(document.createTextNode(t)),document.head.appendChild(c)}(n.css),o.executeCssUpdateCallbacks())})}(n(1))},223:function(e,t){e.exports=void window.addEventListener("message",function(e){"print"===e.data.command&&window.print()})},224:function(e,t,n){e.exports=function(e,t){function n(n,o,i,r,a){a=a||a+" custom_alert",i=i||e("Ok"),o=o||"Alert",n=n||"No Message to Display";var s=t(document.createElement("div")),c={};return c[i]=function(){t(this).dialog("close"),t(this).remove(),r&&r()},s.html(n).dialog({title:o,dialogClass:"bw-dialog no-close "+a,resizable:!1,modal:!0,width:"auto",buttons:c}),s}return{showAlert:n,navigateAlert:function(e,o,i,r){var a=n(e,o,i,function(){});return a.parent().find("button").replaceWith(t(document.createElement("a")).html(i).attr({href:r,target:"_top"}).addClass("ui-button")),a},showCriticalAlert:function(e,o){var i={message:e,title:o};function r(){n(i.message,i.title)}0===t("#critical-alert-button").length&&t('<div id="critical-alert-button" class="bw-toolbutton"><div class="bw-icon bw-icon-critical-error"></div></div>').prependTo(t("#title-toolbar")).click(r),r()},showFatalAlert:function(e,n){t(document.createElement("div")).html(e).dialog({title:n,dialogClass:"bw-dialog no-close",resizable:!1,modal:!0,width:"auto"})},showConfirmationDialog:function(e,n,o,i,r,a){n||(n="Please confirm"),e||(e=""),r||(r="OK"),a||(a="Cancel"),t("#BwConfirmationDalog").remove();var s=t('<div id="BwConfirmationDialog"></div>'),c={};return c[r]=function(){t(this).dialog("close"),t(this).remove(),o&&o()},c[a]=function(){t(this).dialog("close"),t(this).remove(),i&&i()},s.html(e).dialog({title:n,dialogClass:"bw-dialog BwConfirmationDialog no-close",resizable:!1,modal:!0,width:500,buttons:c}),s},showInfoMessage:function(e){console.log("ShowInfoMessage");var n=t(document.createElement("div"));function o(){n.removeClass("bw-dialog-animate-in").addClass("bw-dialog-animate-out"),setTimeout(function(){n.remove()},500)}n.html(e).addClass("bw-dialog bw-info-dialog bw-dialog-animate-in").click(function(e){e.stopPropagation(),o()}).appendTo(t("body")),setTimeout(o,1e4)}}}(n(31),n(1))},225:function(e,t){e.exports=function(e){var t="file:";window&&window.location&&window.location.protocol&&(t=window.location.protocol);var n="";return 0===e.indexOf("http://")?n="http://":0===e.indexOf("https://")?n="https://":0===e.indexOf("//")&&(n="//"),""!==n?"file:"===t?"//"===n?"http:"+e:e:"http:"===t?e:"https:"===t?"http://"===n?e.replace("http://","https://"):e:"//"===n?"https:"+e:e:e}},226:function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,r,a;e.exports=(i=n(24),r=n(1),-1!==(a=i.getPlatform()).indexOf("android")?r.fn.extend({clickOnDraggable:function(e){return this.each(function(){var t=!1;this.ClickOnDraggableCallback=e,r(this).on("touchstart",function(e){var n=e.originalEvent?e.originalEvent:e;1===n.changedTouches.length&&1===n.touches.length&&n.changedTouches[1]===n.touches[1]?(t=!0,setTimeout(function(){t&&(console.error("touch takes too long"),t=!1)},100)):t=!1}),r(this).on("touchend",function(e){if(t){var n=e.originalEvent?e.originalEvent:e;1===n.changedTouches.length&&0===n.touches.length?(t=!1,this.ClickOnDraggableCallback()):t=!1}})})}}):r.fn.extend({clickOnDraggable:function(e){return this.each(function(){r(this).click(e)})}}),-1!==a.indexOf("android")||-1!==a.indexOf("preview")||-1!==a.indexOf("phantomjs")||-1!==a.indexOf("headlesschrome")||-1!==a.indexOf("chrome")||"ibw-platform-osx-safari"===a||"ibw-platform-osx-ibooks"===a||"ibw-platform-osx-ibooks-epub"===a?r.fn.extend({tapOrClick:function(e){return this.each(function(){r(this).click(e);var t=this,n=r(this);n.is("button")||n.is("a")||n.on("keydown",function(n){var o=n.which;13!==o&&32!==o||e.bind(t)({preventDefault:function(){},stopPropagation:function(){},stopImmediatePropagation:function(){}})})})},tapOrClickOff:function(){return this.each(function(){r(this).unbind("click");var e=r(this);e.is("button")||e.is("a")||e.off("keydown")})},triggerTapOrClick:function(e){return this.each(function(){r(this).trigger("click",e)})}}):r.fn.extend({tapOrClick:function(e){return this.each(function(){var t=this,n=r(this);n.addClass("epub-block"),n.find("*").each(function(){this instanceof SVGElement||r(this).addClass("epub-block")});var o=!1;n.hammer?"ibw-platform-ipad-bookwidgets"===a||"ibw-platform-ipad-ibooks-epub"===a||"ibw-platform-ipad-ibooks"===a?n.hammer().on("tap",function(i){!1===o&&(e.bind(t)(i),o=!0,setTimeout(function(){o=!1},500)),n.blur(),i.stopImmediatePropagation()}):n.hammer().on("tap",function(o){e.bind(t)(o),n.blur(),o.stopImmediatePropagation()}):n.click(function(o){e.bind(t)(o),n.blur()}),(n.hammer||!n.is("button")&&!n.is("a"))&&n.on("keydown",function(n){var o=n.which;13!==o&&32!==o||e.bind(t)({preventDefault:function(){},stopPropagation:function(){},stopImmediatePropagation:function(){}})})})},tapOrClickOff:function(){return this.each(function(){var e=r(this);e.hammer?e.hammer().off("tap"):e.unbind("click"),(e.hammer||!e.is("button")&&!e.is("a"))&&e.off("keydown")})},triggerTapOrClick:function(e){return this.each(function(){var t=r(this);t.hammer?t.hammer().trigger("tap",e):t.trigger("click",e)})}}),r.fn.extend({clickOrHold:function(e,t,n){return n=n||3e3,this.each(function(){var o=!1,i=null;r(this).click(function(t){o||e.bind(this)(t),o=!1}),r(this).on("keydown",function(t){var n=t.which;13!==n&&32!==n||e.bind(this)({prevent:function(){},stopPropagation:function(){},stopImmediatePropagation:function(){}})}),r(this).on("mousedown touchstart",function(){var e=this;i=setTimeout(function(){i=null,o=!0,t.bind(e)()},n)}),r(this).on("mouseup touchend",function(){null!==i&&(clearTimeout(i),i=null),o&&setTimeout(function(){o=!1},400)})})}}),void r.fn.extend({makeButton:function(e){"string"==typeof(e=e||{})&&(e={label:e}),this.attr({role:e.hasOwnProperty("role")?e.role:"button"});var t=this.attr("tabindex");return"undefined"!==o(t)&&!1!==t||this.attr({tabindex:"0"}),e.hasOwnProperty("label")&&this.attr({"aria-label":e.label}),e.hasOwnProperty("labelledby")&&this.attr({"aria-labelledby":e.labelledby}),this},makeLink:function(e){return this.attr({role:"link",tabindex:"0"}),e&&this.attr({"aria-label":e}),this}}))},227:function(e,t,n){var o=n(90).extend,i=n(228);e.exports=function(e,t,r){var a=n(91).createLogger("ProgressLogger"),s=new e;s.startListening();return function(e){var n=void 0!==e||"ibw-platform-ipad-bookwidgets"===t.getPlatform();e=e||function(e){var t=document.createElement("IFRAME");t.setAttribute("src",e),t.setAttribute("height","1px"),t.setAttribute("width","1px"),document.documentElement.appendChild(t),t.parentNode.removeChild(t),t=null};var r={};function c(e,t){r.callObjC("progress",o({cmd:e},t),function(){a.error("ProgressLogger: OK for:"+e)},function(){a.error("ProgressLogger: ERROR for:",e)})}r.resultForCallback=function(e,t){s.processCallback(e,t)},r.runningInIframe=function(){try{return window.self!==window.top}catch(e){return!0}},r.callObjC=function(t,n,o,a){var c=i.url(t,n),l=s.registerCallbacks(o,a),d="'"+l.ok+"'",u="'"+l.error+"'",p="ProgressLogger.resultForCallback";r.runningInIframe()&&(p="function ProgressLogger_callback_wrapper(callbackID, arg) { window.postMessage({ 'command': callbackID, 'arg': arg, 'to': '_widget' }, '*'); }; ProgressLogger_callback_wrapper"),e(c+"&okCallbackId="+d+"&errorCallbackId="+u+"&callbackFunc="+p)},r.restart=function(){n&&c("restart")},r.registerScore=function(e,t,o,i,r){return n?(c("registerScore",{identifier:e,title:t,score:i,maxScore:o,primary:!0===r}),{lastval:i,update:function(n){return n!==this.lastval&&(c("updateScore",{identifier:e,title:t,score:n,maxScore:o,primary:!0===r}),this.lastval=n,!0)}}):{update:function(){return!1}}},r.registerBinary=function(e,t,n,o,i){return{update:function(){return!1}}},r.registerQuantity=function(e,t,o,i){return n?(c("registerQuantity",{identifier:e,title:t,quantity:o,primary:!0===i}),{lastval:o,update:function(n){return n!==this.lastval&&(c("updateQuantity",{identifier:e,title:t,quantity:n,primary:!0===i}),this.lastval=n,!0)}}):{update:function(){return!1}}};var l=0;return r.setProgress=function(e,t){if(n){var o=Math.max(0,Math.min(1,e/t));o!==l&&(c("setProgress",{progress:o}),l=o)}},r.registerSet=function(e,t,o,i){if(!n)return{registerAccess:function(){return!1}};var r=this;return{elements:[],accesscount:0,accessedcount:0,accessedLogger:this.registerQuantity(e+"accessed",t,0),accessesLogger:this.registerQuantity(e+"accesses",o,0),registerAccess:function(e){return this.accessesLogger.update(++this.accesscount),this.elements.hasOwnProperty(e)||(this.elements[e]=!0,this.accessedLogger.update(++this.accessedcount),r.setProgress(this.accessedcount,i)),!0}}},window.ProgressLogger=r,r}}(n(229),n(24))},228:function(e,t,n){var o=n(90).map;e.exports={url:function(e,t){var n="js2objc://"+e;return t&&(n+="?"+o(t,function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&")),n}}},229:function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,r,a;e.exports=(i=n(91).createLogger("CallbackBridge"),r=1,(a=function(){this.id=r++,this.listening=!1,this.nextCallbackID=1,this.callbacks={},this.handleMessage=this._handleMessage.bind(this)}).prototype.getMessagePrefix=function(){return"bw-CBBridge-"+this.id+"-"},a.prototype.startListening=function(){window.addEventListener("message",this.handleMessage)},a.prototype.stopListening=function(){window.removeEventListener("message",this.handleMessage)},a.prototype._handleMessage=function(e){var t=this.getMessagePrefix();"object"===o(e.data)&&"string"==typeof e.data.command&&e.data.command.substr(0,t.length)===t&&(e.data.hasOwnProperty("err")?this.processCallback(e.data.command,e.data.err,e.data.data):this.processCallback(e.data.command,e.data.arg))},a.prototype.registerCallbacks=function(e,t){var n=""+this.nextCallbackID++;return this.callbacks[n]={ok:e,error:t},{ok:this.getMessagePrefix()+n+"-ok",error:this.getMessagePrefix()+n+"-error"}},a.prototype.registerCallback=function(e,t){var n=""+this.nextCallbackID++;return this.callbacks[n]={cb:e,singleshot:!t},this.getMessagePrefix()+n+"-cb"},a.prototype.processCallback=function(e,t,n){try{var o=e.match(/bw-CBBridge-.*-(.*)-(ok|error|cb)$/);if(o){var r,a=o[1],s=this.callbacks[a];return s?"cb"===o[2]?((r=s.cb)(t,n),void(s.singleshot&&delete this.callbacks[a])):(r="ok"===o[2]?s.ok:s.error,delete this.callbacks[a],void r(t)):void i.error("Cannot find callback with ID "+a+" Bridge "+this.id+this.callbacks)}i.error("Malformed callback: "+e)}catch(e){i.error(e)}},a)},24:function(e,t,n){e.exports=function(e){function t(){var e=window.navigator.userAgent,t=e.indexOf("OS ");return(e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&t>-1?window.Number(e.substr(t+3,3).replace("_",".")):0}function n(){return window.BW_PLATFORM_HACK?window.BW_PLATFORM_HACK:"iPad"===navigator.platform||"iPhone"===navigator.platform?void 0!==navigator.epubReadingSystem&&"iBooks"===navigator.epubReadingSystem.name?"ibw-platform-ipad-ibooks-epub":-1!==navigator.userAgent.indexOf("Safari")?"ibw-platform-ipad-safari":-1!==navigator.userAgent.indexOf("BookWidgets")?"ibw-platform-ipad-bookwidgets":"http:"!==window.location.protocol&&"https:"!==window.location.protocol?"ibw-platform-ipad-ibooks":"ibw-platform-ipad":"MacIntel"===navigator.platform?void 0!==navigator.epubReadingSystem&&"iBooks"===navigator.epubReadingSystem.name?"ibw-platform-osx-ibooks-epub":-1!==navigator.userAgent.indexOf("PhantomJS")?"ibw-platform-osx-phantomjs":-1!==navigator.userAgent.indexOf("HeadlessChrome")?"ibw-platform-osx-headlesschrome":-1!==navigator.userAgent.indexOf("ibookwidgets")?"ibw-platform-osx-preview":-1!==navigator.userAgent.indexOf("Chrome")?"ibw-platform-osx-chrome":-1!==navigator.userAgent.indexOf("Safari")?"ibw-platform-osx-safari":-1!==navigator.userAgent.indexOf("Firefox")?"ibw-platform-osx-firefox":"http:"!==window.location.protocol&&"https:"!==window.location.protocol?"ibw-platform-osx-ibooks":"ibw-platform-osx":"Win32"===navigator.platform?-1!==navigator.userAgent.indexOf("BookWidgets")?"ibw-platform-win32-preview":"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&-1!==navigator.userAgent.indexOf("Trident")||"Netscape"===navigator.appName&&-1!==navigator.userAgent.indexOf("Edge")?"ibw-platform-win32-ie":-1!==navigator.userAgent.indexOf("Chrome")?"ibw-platform-win32-chrome":"Microsoft Internet Explorer"===navigator.appName?"ibw-platform-win32-ie":-1!==navigator.userAgent.indexOf("Firefox")?"ibw-platform-win32-firefox":"ibw-platform-win32":"iPad Simulator"===navigator.platform||"iPhone Simulator"===navigator.platform?"ibw-platform-ipad-bookwidgets":-1!==navigator.userAgent.indexOf("Android")?-1!==navigator.userAgent.indexOf("Chrome")?"ibw-platform-android-chrome":"ibw-platform-android":-1!==navigator.userAgent.indexOf("CrOS")?-1!==navigator.userAgent.indexOf("Chrome")?"ibw-platform-chromebook-chrome":"ibw-platform-chromebook":"ibw-platform-unknown"}return{getPlatform:n,supportsAppFeature:function(e){var t=/BookWidgets\/([0-9]+)\.([0-9]+)\.([0-9]+)/g.exec(navigator.userAgent),n=t&&4===t.length?1e4*parseInt(t[1])+100*parseInt(t[2])+parseInt(t[3]):0;return console.log(e+" "+n),"audiorecording"===e&&n>=20800},isToolPreview:function(){return-1!==this.getPlatform().indexOf("preview")},isWebPreview:function(){return"1"===e.getUrlParams(window.location.href).preview},isPreview:function(){return this.isToolPreview()||this.isWebPreview()},isTopLevelPlay:function(){return"1"===e.getUrlParams(window.location.href).toplevel},usesCredentialProxy:function(){return-1!==window.location.search.substring(1).indexOf("bwds-secure-proxy")},isAndroidIosDevice:function(){var e=n(),t=0===e.indexOf("ibw-platform-ipad")||0===e.indexOf("ibw-platform-android");return console.log("IsAndroidIos",t),t},isTouchDevice:function(){return this.isAndroidIosDevice()||(t=" -webkit- -moz- -o- -ms- ".split(" "),"ontouchstart"in window||(e=["(",t.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(e).matches));var e,t},isIOS:function(){return"iPad"===navigator.platform||"iPhone"===navigator.platform},isInternetExplorer:function(){return-1!==window.navigator.userAgent.indexOf("MSIE ")||/rv:11.0/i.test(window.navigator.userAgent)},getIOSIBooksRestartInfo:function(){return t()>=7?'To close iBooks:<ol style="text-align: left;"><li>Double-click the Home button.</li><li>Swipe left or right until you have located iBooks.</li><li>Swipe the app\'s preview up to close it.</li></ol>':t()>=5?"To close iBooks:<ol style=\"text-align: left;\"><li>Double-click the Home button.</li><li>Touch-and-hold the iBooks icon to put it into 'jiggly mode'.</li><li>Tap the red minus-sign icon that appears at the top left corner of iBooks.</li><li>Click the Home button to exit 'jiggly mode'.</li></ol>":""},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}}}}(n(41))},31:function(e,t,n){e.exports=(n(40),function(e){try{return window.bwlocalizationmap&&window.bwlocalizationmap[e]&&""!==window.bwlocalizationmap[e]?window.bwlocalizationmap[e]:e}catch(t){return e}})},40:function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(129).default;e.exports=function(e,t){var n={},r=t.Deferred();function a(e){return function e(n,i){if("string"==typeof n)return n.replace(/\$RESOURCEDIR/g,i);if(t.isArray(n)){for(var r=[],a=0;a<n.length;++a)r.push(e(n[a],i));return r}if("object"===o(n)){var s={};for(var c in n)n.hasOwnProperty(c)&&(s[c]=e(n[c],i));return s}return n}(e,(n="",0===window.location.pathname.indexOf("/_ah/gcs/bookwidgets-eu--widgets/")?n=window.location.origin+"/_ah/gcs/bookwidgets-eu--widget-assets":"widgets-eu.bookwidgets.com"===window.location.host&&(n="//widget-assets-eu.bookwidgets.com"),n));var n}return i().then(function(i){var s=function(e){var n=function e(n){if("string"==typeof n)return function(e){for(var t="",n=0;n<e.length;++n)2*n<e.length?t+=e.charAt(2*n):t+=e.charAt(2*(e.length-n)-1);return t}(n);if(t.isArray(n)){for(var i=[],r=0;r<n.length;++r)i.push(e(n[r]));return i}if("object"===o(n)){var a={};for(var s in n)n.hasOwnProperty(s)&&(a[s]=e(n[s]));return a}return n}(e);return n=a(n)}(i);for(var c in s)n[c]=s[c];e(n),r.resolve(n)}),{fixResourcePaths:a,getConfig:function(){return r},getConfigSync:function(){return n}}}(n(133),n(1))},41:function(e,t){e.exports=function(){var e=["context_id","course_id","hide_account","lfq","lti","login_hint","no_logout","q","sso","smartschool_platform","student_class_id","submit_url","teacher_email","teacher_id"];function t(e){var t=[];if("[object Array]"===Object.prototype.toString.call(e))for(var n=0;n<e.length;++n){var o=e[n];o.length>1?t.push(encodeURIComponent(o[0])+"="+encodeURIComponent(o[1])):t.push(encodeURIComponent(o[0]))}else for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}function n(e){for(var t={},n=e.split("&"),o=0;o<n.length;o++){var i=n[o].indexOf("=");if(!(i<0)){var r=[n[o].substr(0,i),n[o].substr(i+1)],a=decodeURIComponent(r[0]);if(void 0===t[a])t[a]=decodeURIComponent(r[1]);else if("string"==typeof t[a]){var s=[t[a],decodeURIComponent(r[1])];t[a]=s}else t[a].push(decodeURIComponent(r[1]))}}return t}function o(e){for(var t=[],n=e.split("&"),o=0;o<n.length;o++){var i=n[o].indexOf("=");if(i<0)t.push([n[o]]);else{var r=[n[o].substr(0,i),n[o].substr(i+1)];t.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])])}}return t}function i(e){return!e||e.length<1||"?"!==e[0]?{}:n(e.substr(1))}function r(e){return!e||e.length<1||"?"!==e[0]?[]:o(e.substr(1))}function a(e,t){return e.split("&").filter(function(e){return decodeURIComponent(e.split("=")[0])!==t}).join("&")}function s(e){return(e=e||window.location.href).indexOf("#")>=0?"#"+(e.split("#")[1]||""):""}!function(){var n=r(window.location.search),i=[],a=s();if(a.length>=1&&"#"===a[0])for(var c=o(a.substr(1)),l=0;l<c.length;++l){var d=c[l];e.indexOf(d[0])>=0?n.push(d):i.push(d)}var u=window.location.pathname;n.length>0&&(u+="?"+t(n)),i.length>0&&(u+="#"+t(i)),"undefined"!=typeof history&&history.replaceState("",document.title,u)}();var c=s(),l=window.location.search;return{split:n,splitList:o,getUrlParams:function(e){return-1===e.indexOf("?")?{}:n(e.replace(/[^\?]*\?/,"").replace(/#.*/,""))},getQueryParams:i,getParameters:function(){var e=i(l),t=function(e){return!e||e.length<1||"#"!==e[0]?{}:n(e.substr(1))}(c);for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},removeQueryStringParameter:function(e,t){return e.length>0&&("?"===e[0]||"#"===e[0])?e[0]+a(e.substring(1),t):a(e,t)},updateWindowQueryParameter:function(e,n){for(var o=r(window.location.search),i=!1,a=0;a<o.length;++a)if(o[a][0]===e){o[a].length>1?o[a][1]=n:o[a].push(n),i=!0;break}i||o.push([e,n]),history.replaceState("",document.title,window.location.pathname+"?"+t(o)+s())},urlencode:t,getHash:s,LEGACY_HASH_PARAMETERS:e}}()},42:function(e,t){e.exports=function(){var e=[];function t(){for(var t=0;t<e.length;++t)e[t]()}return{executeCssUpdateCallbacks:t,CssUpdateCallbacks:e,updateConfigCSS:function(e){for(var n=document.getElementsByTagName("link"),o=0,i=n.length;o<i;o++){var r=n[o],a=r.rel;if("string"!=typeof a||0===a.length||"stylesheet"===a){var s=r.getAttribute("href");0===s.indexOf("config")&&-1!==s.indexOf(".css")&&(r.setAttribute("href","config"+e+".css"),setTimeout(t,100))}}},addAllDesignInfo:function(){void 0!==window.addAllDesignInfo&&window.addAllDesignInfo()},addCSSUpdateCallback:function(t){e.push(t)}}}()},88:function(e,t,n){e.exports=function(e,t){return{createLabeledCheckbox:function(t,n,o){var i=e('<table class="bw-checkbox"></table>').appendTo(t),r=e("<tr></tr>").appendTo(i),a=e('<td class="bw-checkbox-cell"></td>').appendTo(r);return e('<div class="bw-checkbox-checkbox bw-icon bw-icon-accept" ></div>').appendTo(a),e('<td class="bw-button-label-cell"><div class="bw-button-label">'+n+"</div></td>").appendTo(r),i.bind("check",function(){e(this).attr({checked:"checked","aria-checked":"true"})}),i.bind("clear",function(){e(this).attr({checked:null,"aria-checked":"false"})}),i.makeButton({role:"checkbox"}).tapOrClick(function(){var t=e(this);"disabled"!==t.attr("disabled")&&("checked"===t.attr("checked")?(t.trigger("clear"),o&&o.call(t[0],!1)):(t.trigger("check"),o&&o.call(t[0],!0)))}),i.trigger("clear"),i},createProgressBar:function(t,n){var o={};o.parent=t,o.max=n,e('<div class="bw-progress-bar"></div>').css("left","-100%").appendTo(e(t));var i=100/n;return e('<div class="bw-progress-bar-marker"></div>').css({left:"-100%",width:i+"%"}).appendTo(e(t)),o.setProgress=function(n,o,i){o=o||400;var r=100*-(this.max-parseFloat(n))/this.max,a=e(this.parent+"> .bw-progress-bar"),s=e(t).width(),c=-(this.max-parseFloat(n))*s/this.max;a.css("left",a.css("left")),a.animate({left:c},o,"swing",function(){a.css("left",r+"%"),i&&i()})},o.setPosition=function(n,o){o=o||400;var i=e(this.parent+"> .bw-progress-bar-marker"),r=100*parseFloat(n)/this.max,a=e(t).width()*n/this.max;i.css("left",i.css("left")),i.animate({left:a},o,"swing",function(){i.css("left",r+"%")})},o.clear=function(){e(this.parent+" .bw-progress-bar").css("left","-100%"),e(this.parent+" .bw-progress-bar-marker").css("left","-100%")},o},createSimpleCheckbox:function(t,n,o){var i=e('<div class="bw-simple-checkbox bw-icon bw-icon-accept" ></div>').appendTo(e(t)),r={role:"checkbox"};return o&&(r.labelledby=o),i.bind("check",function(){e(this).attr({checked:"checked","aria-checked":"true"})}),i.bind("clear",function(){e(this).attr({checked:null,"aria-checked":"false"})}),i.makeButton(r).tapOrClick(function(){var t=e(this);"disabled"!==t.attr("disabled")&&("checked"===t.attr("checked")?(t.trigger("clear"),n&&n.call(t[0],!1)):(t.trigger("check"),n&&n.call(t[0],!0)))}),i.trigger("clear"),i},createNumberButtons:function(n,o,i,r,a){function s(t){if(e(".buttonslot").removeClass("selected"),o<=9)e("#BS_"+t).addClass("selected");else if(t<5){e("#BS_1").removeClass("hide_number"),e("#BS_7").addClass("hide_number");for(var n=1;n<8;++n)e("#BS_"+n).find(".number-button").html(n+1);e("#BS_"+t).addClass("selected")}else if(o-t<6){e("#BS_1").addClass("hide_number"),e("#BS_7").removeClass("hide_number");for(var i=2;i<8;++i)e("#BS_"+i).find(".number-button").html(o-8+i);e("#BS_"+(9-(o-t))).addClass("selected")}else{e("#BS_1").addClass("hide_number"),e("#BS_7").addClass("hide_number");for(var s=1;s<8;++s)e("#BS_"+s).find(".number-button").html(s+t-3);e("#BS_4").addClass("selected")}0===t?e(r).addClass("hidden"):e(r).removeClass("hidden"),t===o-1?e(a).addClass("hidden"):e(a).removeClass("hidden")}for(var c=0,l=Math.min(o,9),d=e(n),u=0;u<l;++u)e('<div class="buttonslot" id="BS_'+u+'"><div class="number-button bw-button">'+(u+1)+"</div></div>").appendTo(d).find(".number-button").makeButton().tapOrClick(function(){s(c=parseInt(e(this).html())-1),i(c)});function p(){--c<0&&(c=0),s(c),i(c)}function f(){++c>=o&&(c=o-1),s(c),i(c)}return o>9&&(e('<div class="ellipsis"></div>').appendTo(e("#BS_1")),e('<div class="ellipsis"></div>').appendTo(e("#BS_7")),e("#BS_7").addClass("hide_number"),e("#BS_7").find(".number-button").html(o-1),e("#BS_8").find(".number-button").html(o)),e("#BS_0").addClass("selected"),e(r).addClass("hidden"),e(r).makeButton(t("previous")).tapOrClick(p),e(a).makeButton(t("next")).tapOrClick(f),{updateButtons:s,next:f,prev:p}},createSimpleRadiobutton:function(t,n,o){var i=e('<div class="bw-simple-radiobutton bw-icon" ></div>').appendTo(e(t));i.bind("check",function(){e(this).attr({checked:"checked","aria-checked":"true"})}),i.bind("clear",function(){e(this).attr({checked:null,"aria-checked":"false"})});var r={role:"radio"};return o&&(r.labelledby=o),i.makeButton(r).tapOrClick(function(){var t=e(this);"disabled"!==t.attr("disabled")&&("checked"===t.attr("checked")?(t.trigger("clear"),n&&n.call(t[0],!1)):(t.trigger("check"),n&&n.call(t[0],!0)))}),i.trigger("clear"),i},createLabeledRadiobutton:function(t,n,o){var i=e('<table class="bw-radiobutton"></table>').appendTo(t),r=e("<tr></tr>").appendTo(i),a=e('<td class="bw-radiobutton-cell"></td>').appendTo(r);return e('<div class="bw-radiobutton-radiobutton bw-icon bw-icon-largedot" ></div>').appendTo(a),e('<td class="bw-button-label-cell"><div class="bw-button-label">'+n+"</div></td>").appendTo(r),i.bind("check",function(){e(this).attr({checked:"checked","aria-checked":"true"})}),i.bind("clear",function(){e(this).attr({checked:null,"aria-checked":"false"})}),i.makeButton({role:"radio"}).tapOrClick(function(){var t=e(this);"disabled"!==t.attr("disabled")&&("checked"===t.attr("checked")?(t.trigger("clear"),o&&o.call(t[0],!1)):(t.trigger("check"),o&&o.call(t[0],!0)))}),i.trigger("clear"),i},createProgressCircle:function(t,n,o){var i={},r=30,a=40,s=40;i.id=n,i.progress=Array(o);var c=e('<div class="bw-progress-circle bw-centering-container" id="'+n+'"></div>').appendTo(e(t));e('<div class="bw-progress-circle-text bw-centered"></div>').appendTo(c);var l=[];function d(e,t){if(-1===e)return"";var n=2*Math.PI*e/o,i=2*Math.PI*(e+1)/o,r=a+Math.sin(n)*t,c=s-Math.cos(n)*t,l=a+Math.sin(i)*t,d=s-Math.cos(i)*t;return"M X1 Y1 A R R 0 0 1 X2 Y2".replace("X1",r).replace("Y1",c).replace("X2",l).replace("Y2",d).replace("D",n).replace("R",t).replace("R",t)}function u(e){return'<path d="'+d(e,r)+'"/>'}for(var p=0;p<o;++p)l.push(u(p));return e('<svg class="bw-progress-circle-drawing" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 80 80">'+l.join("")+'<path class="the marker"/></svg>').appendTo(c),i.setProgress=function(t,n){e("#"+this.id+" path:nth-child("+(t+1)+")").attr("class",n)},i.setTextAndPosition=function(t,n){var o=e("#"+this.id+" .bw-progress-circle-text");o.animate({opacity:0},200,"swing",function(){o.html(t),o.animate({opacity:1},200)});var i=e("#"+this.id+" path.the.marker");i.animate({opacity:0},200,"swing",function(){i.attr("d",d(n,r)).animate({opacity:1},200)})},i}}}(n(1),n(31))},89:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return"string"==typeof(t=e)||"object"===n(t)&&t.constructor===String?0===e.indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("//")?e.replace(/\(/g,"_").replace(/\)/g,"_").replace(/'/g,"%27"):encodeURIComponent(e).replace(/%2F/g,"/").replace(/'/g,"%27"):"";var t}},91:function(e,t){e.exports=function(){var e={0:"debug",1:"info",2:"error"};function t(t,n,o){return n>=o?function(){!function(t,n,o){var i=Array.prototype.slice.call(o);i.unshift(t+" ("+e[n]+"):"),console.log.apply(console,i)}(t,n,arguments)}:function(){}}return{DEBUG:0,INFO:1,ERROR:2,createLogger:function(e,n){return void 0===n&&(n=1),{debug:t(e,0,n),info:t(e,1,n),error:t(e,2,n)}}}}()},93:function(e,t,n){var o,i,r,a,s,c,l,d;n(94),e.exports=(o=n(40),i=n(134),r=n(135),a=n(1),s=n(88),c=n(89),l=n(227),d=n(31),void a(function(){o.getConfig().then(function(e){r.makeWidget({layout:"title_layout",title:e.title,"no-user-select":!0});var t=e.slides||[],n=t.length,o=l().registerSet("slides",d("Pages viewed"),d("Page views"),n);!function(){for(var e=a("#display"),o=a("<div class='container'></div>"),i=0;i<n;++i){var r=a("<div class='cover'></div>"),s="cover";"Contain entire picture, keep aspect ratio"===t[i]["resize-policy"]?s="contain":"Cover entire area with entire picture"===t[i]["resize-policy"]&&(s="980px 600px"),r.css({background:"url("+c(t[i].img)+") no-repeat center center","background-size":s}).attr("id","Kb"+i).attr("index",i),r.appendTo(o)}o.appendTo(e)}();var u=null;function p(e){null!==u&&a("#Kb"+u).css({opacity:0,zIndex:1}),a("#Kb"+e).css({opacity:1,zIndex:9}),u=1*e,t[e]&&(""!==t[e].caption?a("#caption").html(i.prepare(t[e].caption)):a("#caption").html("&nbsp;"),""!==t[e].description?a(".content").html(i.prepare(t[e].description)):a(".content").html("&nbsp;"),i.processAll(),o.registerAccess(e))}p(0);var f=s.createNumberButtons("#picturebuttons",n,p,"#prev-btn","#next-btn");function g(){var e,t,n=a("#display-wrapper").height();n<600?(e=n,t=982*n/600):(e=600,t=982),a(".sequence .view .display").css({width:t,height:e})}return document.onkeydown=function(e){switch((e=e||window.event).keyCode){case 37:f.prev();break;case 39:f.next()}},a("#container").hammer().on("swiperight",function(){f.prev()}),a("#container").hammer().on("swipeleft",function(){f.next()}),g(),window.onresize=g,null})}))},94:function(e,t,n){"use strict";n.r(t);n(95),n(120),n(122),n(126),n(128)}});